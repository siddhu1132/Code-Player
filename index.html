<!Doctype html>

<html>

<head>

	<title>JQuery</title>
	
	<script type="text/javascript"
	
	src="jquery-3.5.1.min.js">
	
	</script>
	
	<style src="app.css" type="text/css"></style>
	

		
	
</head>

<body>

	<div id="header">
	
		<div id="logo">
		
			CodePlayer
			
		</div>
		
		<div id="buttonContainer">
		
			<div class = "toggleButton active" id="html">HTML</div>
			
			<div class = "toggleButton" id="css">CSS</div>
			
			<div class = "toggleButton" id="javascript">JAVASCRIPT</div>
			
			<div class = "toggleButton active" id="output">OUTPUT</div>
			
		
		</div>
		
	</div>
	
	
	<div id="bodyConatiner">
	
		<textarea id="htmlPanel" class="panel"><p id="paragraph">HelloWorld</p></textArea>
		
		<textarea id="cssPanel" class="panel hidden">p {color:green;}</textArea>
		
		<textarea id="javascriptPanel" class="panel hidden">document.getElementById("paragraph").innerHTML = "Hello Sid!"</textArea>
	
		<iframe id="outputPanel" class="panel "></iframe>
	
	</div>
	
	<script type="text/javascript">
	
	
		function updateOutput() {
		
			$("iframe").contents().find("html").html("<html><head><style type='text/css'>" + $("#cssPanel").val() + "</style></head><body>" + $("#htmlPanel").val() + "</body></html>");
			
			document.getElementById("outputPanel").contentWindow.	eval($("#javascriptPanel").val());
			
		
		}
	
		$(".toggleButton").hover(function() {
		
			$(this).addClass("highlightedButton");
		
		}, function()  {
		
			$(this).removeClass("highlightedButton");
		
		});
		
		$(".toggleButton").click(function() {
		
			$(this).toggleClass("active");
			$(this).removeClass("highlightedButton");
			
			var panelId = $(this).attr("id") + "Panel";
			
			$("#" + panelId).toggleClass("hidden");
			
			var numberOfActivePanels = 4 - $('.hidden').length;
			
			$(".panel").width(($(window).width() / numberOfActivePanels) );
			
		
		});
	
		$(".panel").height($(window).height() - $("#header").height() - 15);
		
		$(".panel").width(($(window).width() / 2) - 10);
		
		updateOutput();
		
		$("textarea").on('change keyup paste',function() {
		
			updateOutput();
		});
		
	</script>
	
	
			
</body>


</html>
